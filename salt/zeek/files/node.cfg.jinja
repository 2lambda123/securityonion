[manager]
type=manager
host=localhost

[logger]
type=logger
host=localhost

[proxy]
type=proxy
host=localhost

[worker-1]
type=worker
host=localhost
interface=af_packet::{{ NODE.interface }}
lb_method=custom
  {%- if NODE.lbprocs %}
lb_procs={{ NODE.lbprocs }}
    {%- else %}
lb_procs={{ NODE.zeek_pins | length }}
  {%- endif %}
  {%- if NODE.zeek_pins %}
pin_cpus={{ NODE.zeek_pins | join(", ") }}
  {%- endif %}
af_packet_fanout_id=23
af_packet_fanout_mode=AF_Packet::FANOUT_HASH
af_packet_buffer_size={{ NODE.zeek_buffer }}
{%- else %}
[zeeksa]
type=standalone
host=localhost
interface={{ NODE.interface }}
{%- endif %}
